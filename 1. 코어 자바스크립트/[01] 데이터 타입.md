💡 스펙과 구현 구분하면서 읽기

### 데이터 타입

- 기본형(원시형)
    - 숫자, 문자열, 불리언, `null`, `undefined`, 심볼
- 참조형
    - 객체, 배열, 함수, 날짜, 정규표현식
    - `Map`, `WeakMap`, `Set`, `WeakSet`(ES6에서 추가된 객체의 하위분류)
- 자바스크립트에서의 메모리 확보 → **구현**..! 자바스크립트 엔진이 하는 일..?

### 변수 선언과 데이터 할당

- 변수(variable)
    - 변할 수 있는 무언가(=데이터)
    - 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇
- 식별자
    - 데이터를 식별하는 데에 사용되는 이름(변수명)

### 불변객체

- 불변값
    
    ```jsx
    let a = 'abc';
    a += 'def';
    ```
    
    변수 a의 ‘abc’ → ‘abcdef’ 로 변경되는 것이 아니라 데이터 영역에서 같은 데이터가 있는지 찾고, 없으면 새로운 문자열 ‘abcdef’를 만들어 a에 할당
    
    즉, 변경은 새로 만드는 동작을 통해 이루어진다. → 불변값의 성질
    
- 가변값
    - 기본형 데이터와 차이는 객체의 변수영역(프로퍼티 영역)이 별도로 존재
    - 참조형 데이터(object)의 변경은 프로퍼티 영역에서 이루어진다. 새로운 객체가 만들어지는 것이 아닌 객체 내부의 변경.
    - 어떤 데이터에 대해 자신의 주소를 참조하는 변수의 개수를 **참조 카운트**라고 한다.
    - 참조카운트가 0이 되는 메모리 주소는 가비지컬렉터의 수거 대상이 된다.
    - 엄밀히 말하자면 자바스크립트의 모든 데이터 타입은 참조형이다.
        - 다만 기본형은 주솟값을 복사하는 과정이 한 번이고, 참조형은 한 단계 더 거친다.
        - 스펙 vs **구현**
    - 참조형 데이터 내부의 프로퍼티를 변경하는 경우에만 ‘가변 값’이 설명된다.
        
        → 참조형 데이터도 그 자체의 변경은 불변값이다.
        
    - 중첩된 객체에서 얕은 복사 → 프로퍼티의 주솟값만 복사 → 원본과 사본이 동일한 참조형 데이터의 주소를 가르키게됨 (**기존 데이터를 그대로 참조**) → 불변객체로 만들자! → 깊은 복사

### undefined와 null

- `undefined`
    - 자바스크립트 엔진이 자동으로 부여 → 스펙
        - “`var` 변수는 LE가 활성화 될 때 생성되면서 동시에 `undefined로` 초기화 된다.”
    - 자바스크립트가 자동으로 부여하는 경우
        1. 값을 대입하지 않은 변수. 즉, 데이터 영역의 메모리 주소를 지정하지 않은 식별자에 접근할 때
        2. 객체 내부에 존재하지 않는 프로퍼티에 접근할 때
        3. `return문이` 없거나 호출되지 않는 함수의 실행 결과
- 값이 비어있는 요소와 `undefined가` 할당되어 있는 요소의 출력결과는 다르다.
    - 비어있는 요소는 순회와 관련된 배열 메서드들의 순회 대상에서 제외
        
        → “배열도 객체”
        
        → 존재하지 않는 프로퍼티에 대해 순회할 수 없음.
        
- 자바스크립트 엔진이 부여하는 `undefined를` 식별하기 위해서는 사용자가 `undefined를` 부여하는 것을 지양한다. 대신 `null을` 활용.
- `null`의 주의점은 `typeof null`이 `object`라는 점. → 스펙
    - 자바스크립트 자체 버그
    - 타입을 판별해야 할 경우, `typeof`가 아닌 일치 연산자를 이용하자


💡 `let`, `const`에 대해서는 `undefined`를 할당하지 않은 채로 초기화를 마치며, 이후 특정 값을 할당하기 전까지는 해당 변수에 접근할 수 없다.
  `let` 과 `const` 변수는 LE가 활성화 될 때 생성되지만 실제 변수가 평가되기 전까지는 접근할수 없다라고 ECMA에서 설명 → 스펙?!


- 변수를 선언하면 빈 메모리 공간에 식별자를 저장하고, 그 공간에 자동으로 `undefined`를 할당 → 스펙
- 변수에 기본형 데이터를 할당하려고 하면 별도의 공간에 데이터를 저장하고 그 공간의 주소를 변수의 값 영역에 할당 → 구현
- 참조형 데이터를 할당하는 과정 → 구현
- `undefined`와 `null`에 대한 설명 → 스펙
