### 1.2 함수

1. 함수란 무엇인가
- 작업을 수행하거나 값을 계산하는 등의 과정을 하나의 블록으로 표현하여 실행단위로 만들어 놓은 것
- 리액트에서 컴포넌트를 만드는 함수도 이러한 기초적인 형태를 따른다.
    
    ```tsx
    function Component(props) {
    	return <div>{props.hello}</div>
    }
    ```
    
    - Component라고 하는 함수를 선언하고 매개변수로 `props`라고 부르는 단일 객체를 받으며 JSX(view)를 `return`한다.

<br/>

2. 함수를 정의하는 4가지 방법
    
    **함수 선언문**
    
    ```tsx
    function add(a,b) {
    	return a + b
    }
    ```
    
    <br/>
    
   표현식이 아닌 문
  
    ```tsx
    const sum = function sum(a,b) {
    	return a + b
    }
    
    sum(10, 24) // 34
    ```

<br/>

- 함수 선언문 정의에 따르면 ‘선언’이기 때문에 변수에 할당할 수 없어야 한다.
- 그러나 위의 예제는 `sum` 이라는 변수에 함수 `sum`을 할당하는 것(표현식)처럼 동작

  → 이유는 자바스크립트 엔진이 문맥에 따라 함수 문이 아닌 표현식으로 해석하는 경우가 있기 때문

- 이러한 경우(문맥에 따라 선언문 or 표현식으로 해석됨)를 인식하고 있어야한다.

  <br/>

  **함수 표현식**

- 함수는 일급객체 → 다른 함수의 매개변수가 될 수도, 반환 값이 될 수도, 변수에 할당이 될 수도 있다.
- 함수 표현식에서는 할당하려는 함수의 이름을 생략하는 것이 일반적이다. (혼란방지 위함)

  <br/>

  **함수 표현식과 선언식의 차이**

- 호이스팅 여부
- 함수의 호이스팅: 초기 단계에서 메모리에 할당, 코드가 실행되기전에 함수 정의가 메모리에 등록 (함수 전체가 호이스팅)
    
    ```tsx
    hello() // hello
     
    function hello(){
      console.log('hello')
    }
    ```

    <br/>
  
  **화살표 함수**

- 화살표 함수에서는 `constructor`를 사용할 수 없다.
- 화살표 함수에서는 `arguments`가 존재하지 않는다.
- 화살표 함수는 함수 자체의 바인딩을 갖지 않는다. 화살표 함수 내부에서 `this`를 참조하면 상위 스코프의 `this`를 따른다.
    - `this` : 자신이 속한 객체나 자신이 생성할 인스턴스를 가리키는 값
    - 일반함수의 `this`는 별도의 설정이 없다면 전역객체를 가리킨다.
  
    <br/>

3. 리액트에서 쓰이는 함수

    **즉시실행 함수**
  
  - 한번만 호출되고 다시 호출할 수 없음(그래서 이름을 붙이지 않음)
  - 이러한 특성을 활용하면 글로벌 스코프를 오염시키지 않는 독립적인 함수 스코프를 운용
    
    ```tsx
    (function (a,b) {
      return a + b
    })(10,24) // 34
    ```
    
    <br/>
  
    **고차 함수**
  
  - 함수의 일급객체 특징을 이용하여 고차함수를 만들 수 있다.
  - 고차함수: 함수를 인수로 받거나 결과로 새로운 함수를 반환 시키는 함수
    
    ```tsx
    // 함수를 인수로 받는 예
    const doubleArray = [1,2,3].map((item) = item * 2)
    
    // 함수를 반환하는 고차함수 예
    const add = function(a){
      // a 가 존재하는 클로저 생성
      return function(b) {
        // 두 합을 반환하는 또 다른 함수 생성
        return a + b
      }
    }
    
    add(1)(3) //4
    ```

<br/>

4. 함수를 만들 때 주의사항
- 함수의 부수효과를 최대한 억제해야한다.
    - 함수의 부수효과 → 함수 내의 작동으로 인해  외부 함수에 영향을 끼치는 것
    - 부수효과가 없는 함수를 **순수함수**라고한다.
    - 순수함수는 부수효과가 없고, 어떤 상황에서도 동일한 결과를 반환하며 외부에 영향을 미치지 않는다.
      
      ```tsx
      function PureComponent(props) {
        const {a, b} = props
        return <div>{a + b}</div>
      }
      ```
    
    - 이 컴포넌트가 순수한 함수 컴포넌트인 이유
        
        → 외부에 어떤 영향을 미치지도 않고, 언제 어디서 동일한 인수를 받아 항상 동일한 결과를 반환한다. 
        
    - 부수효과는 피할 수 없기 때문에 최대한 억제할 수 있는 방향으로 설계해야한다.
    - 리액트의 관점에서는 `useEffect`의 작동을 최소화 하는 것
- 가능한 함수를 작게 만들어서 하나의 일만 하게 하여 추적가능하게 하며 가독성과 재사용성을 높인다.
- 누구나 이해할 수 있는 이름을 붙여야 한다.
